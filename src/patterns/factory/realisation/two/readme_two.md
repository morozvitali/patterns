Factory Method –∞–±–æ Factory Pattern.

üè≠ –ü–∞—Ç–µ—Ä–Ω Factory Method
üîπ –Ü–¥–µ—è:
Factory Method ‚Äî —Ü–µ –ø–∞—Ç–µ—Ä–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π:
–≤—ñ–¥–æ–∫—Ä–µ–º–ª—é—î –ª–æ–≥—ñ–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É;
–¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏, –Ω–µ –≤–∫–∞–∑—É—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–ª–∞—Å
—Å—Ç–≤–æ—Ä—é–≤–∞–Ω–æ–≥–æ –æ–±‚Äô—î–∫—Ç–∞.

üì¶ –ü—Ä–∏–∫–ª–∞–¥: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ —É GUI (Windows / MacOS)

üî∏ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç:
public interface Button {
void render();
}

üî∏ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏:
public class WindowsButton implements Button {
public void render() {
System.out.println("Rendering Windows Button");
}
}

public class MacOSButton implements Button {
public void render() {
System.out.println("Rendering MacOS Button");
}
}

üî∏ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞:
public abstract class Dialog {
public void renderWindow() {
Button okButton = createButton();
okButton.render();
}

// Factory Method
public abstract Button createButton();
}

üî∏ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ñ–∞–±—Ä–∏–∫–∏:
public class WindowsDialog extends Dialog {
public Button createButton() {
return new WindowsButton();
}
}

public class MacOSDialog extends Dialog {
public Button createButton() {
return new MacOSButton();
}
}

üî∏ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

public class Main {
public static void main(String[] args) {
Dialog dialog = getDialog("windows"); // —É–º–æ–≤–Ω–æ
dialog.renderWindow(); // –∫–ª—ñ—î–Ω—Ç –Ω–µ –∑–Ω–∞—î, —è–∫–∏–π —Å–∞–º–µ –∫–ª–∞—Å –∫–Ω–æ–ø–∫–∏ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ
}
public static Dialog getDialog(String os) {
if ("windows".equalsIgnoreCase(os)) {
return new WindowsDialog();
} else {
return new MacOSDialog();
}
}
}

üß† –ù–∞–≤—ñ—â–æ —Ü–µ –≤—Å–µ?
–ü–µ—Ä–µ–≤–∞–≥–∏                                	        –ù–µ–¥–æ–ª—ñ–∫–∏
–í–∏–Ω–æ—Å–∏—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –≤ –æ–¥–∏–Ω –º–µ—Ç–æ–¥	            –£—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è –∫–æ–¥—É (–±—ñ–ª—å—à–µ –∫–ª–∞—Å—ñ–≤)
–°–ø—Ä–æ—â—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è	                    –ú–µ–Ω—à –æ—á–µ–≤–∏–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç—É	                    –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é

ü§î –ê–Ω–∞–ª–æ–≥—ñ—è –∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∂–∏—Ç—Ç—è:
–£ —Ç–µ–±–µ —î —Ñ–∞–±—Ä–∏–∫–∞ –ø—ñ—Ü–∏. –¢–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—à –ø—ñ—Ü—É –≤—Ä—É—á–Ω—É, –∞ –≤–∏–∫–ª–∏–∫–∞—î—à –º–µ—Ç–æ–¥ createPizza() ‚Äî –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –ø–æ—Ç—Ä—ñ–±–Ω—É –ø—ñ—Ü—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É. –¶–µ –π —î factory method.

‚úÖ –Ø–∫—â–æ –∫–æ—Ä–æ—Ç–∫–æ: Factory Method ‚Äî —Ü–µ —Å–ø–æ—Å—ñ–± –¥–æ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª–∞—Å–∞–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞.



‚ùå –ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –ø—ñ–¥–≤–æ–¥–Ω—ñ –∫–∞–º–µ–Ω—ñ Factory Method
üîª 1. –ù–∞–¥–ª–∏—à–∫–æ–≤–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª–∞—Å—ñ–≤
–©–æ –Ω–µ —Ç–∞–∫: –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø—É –ø—Ä–æ–¥—É–∫—Ç—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –ø—ñ–¥–∫–ª–∞—Å-—Ñ–∞–±—Ä–∏–∫–∞. –Ø–∫—â–æ –≤ —Ç–µ–±–µ –¥–µ—Å—è—Ç–∫–∏ —Ç–∏–ø—ñ–≤ ‚Äî –≤–∏–π–¥–µ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π "–∫–ª–∞—Å–æ–≤–∏–π –≤–∏–±—É—Ö".

// –∫–æ–∂–µ–Ω —Ç–∏–ø –º–∞—î —Å–≤—ñ–π –∫–ª–∞—Å
public class PDFReportFactory extends ReportFactory { ... }
public class ExcelReportFactory extends ReportFactory { ... }
üìå –ü–æ—Ä–∞–¥–∞: –Ü–Ω–æ–¥—ñ –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Simple Factory (—Ç–æ–±—Ç–æ switch/if —É —î–¥–∏–Ω–æ–º—É –º–µ—Ç–æ–¥—ñ), —è–∫—â–æ —Ç–∏–ø—ñ–≤ –Ω–µ–±–∞–≥–∞—Ç–æ.

üîª 2. –¢—Ä—É–¥–Ω–æ—â—ñ –∑ –ø–µ—Ä–µ–¥–∞–≤–∞–Ω–Ω—è–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
–©–æ –Ω–µ —Ç–∞–∫: Factory Method –∑–∞–∑–≤–∏—á–∞–π —Å—Ç–≤–æ—Ä—é—î –æ–±‚Äô—î–∫—Ç–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∞–±–æ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é. –Ø–∫—â–æ —Å—Ç–≤–æ—Ä—é–≤–∞–Ω–∏–π –æ–±‚Äô—î–∫—Ç –ø–æ—Ç—Ä–µ–±—É—î –±–∞–≥–∞—Ç–æ –¥–∞–Ω–∏—Ö ‚Üí —Ñ–∞–±—Ä–∏–∫–∞ —Å—Ç–∞—î —Å–∫–ª–∞–¥–Ω–æ—é —ñ –ø–æ–≥–∞–Ω–æ –º–∞—à—Ç–∞–±—É—î—Ç—å—Å—è.

public abstract class PizzaFactory {
abstract Pizza createPizza(String toppings, boolean glutenFree, String size, boolean spicy); // —Ü–µ –≤–∂–µ –ø–æ–≥–∞–Ω–æ
}
üìå –ü–æ—Ä–∞–¥–∞: –Ø–∫—â–æ –æ–±‚Äô—î–∫—Ç —Å–∫–ª–∞–¥–Ω–∏–π ‚Äî –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Builder —É –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∑ —Ñ–∞–±—Ä–∏–∫–æ—é.

üîª 3. –ü–æ—Ä—É—à–µ–Ω–Ω—è SRP (Single Responsibility Principle)
–©–æ –Ω–µ —Ç–∞–∫: Factory —ñ–Ω–æ–¥—ñ –±–µ—Ä–µ –Ω–∞ —Å–µ–±–µ –¥–≤—ñ —Ä–æ–ª—ñ:

–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞.

–õ–æ–≥—ñ–∫—É –≤–∏–±–æ—Ä—É —Ç–∏–ø—É.

–¶–µ —Ä–æ–±–∏—Ç—å —Ñ–∞–±—Ä–∏–∫—É –Ω–∞–¥—Ç–æ –≤–∞–∂–∫–æ—é —ñ –Ω–µ–ø—Ä–∏–¥–∞—Ç–Ω–æ—é –¥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

üìå –ü–æ—Ä–∞–¥–∞: –ü–æ–¥—ñ–ª–∏ –ª–æ–≥—ñ–∫—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ –ª–æ–≥—ñ–∫—É –≤–∏–±–æ—Ä—É ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ –æ–∫—Ä–µ–º–∏–π ProductSelector.

üîª 4. –ñ–æ—Ä—Å—Ç–∫–µ –∑–≤'—è–∑—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è
–©–æ –Ω–µ —Ç–∞–∫: Factory Method –≤–∏–º–∞–≥–∞—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª–∞—Å–∏ –¥–ª—è –Ω–æ–≤–∏—Ö —Ç–∏–ø—ñ–≤. –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è: –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É —Ç—Ä–µ–±–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é.

üìå –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏, –æ—Å–æ–±–ª–∏–≤–æ —É Java 8+.

Map<String, Supplier<Product>> map = Map.of(
"pdf", PDFReport::new,
"excel", ExcelReport::new
);
üîª 5. –£—Å–∫–ª–∞–¥–Ω–µ–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–©–æ –Ω–µ —Ç–∞–∫: –Ø–∫—â–æ —Ñ–∞–±—Ä–∏–∫–∞ –∂–æ—Ä—Å—Ç–∫–æ –∑–∞—à–∏—Ç–∞ —É –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥:
Report report = new PDFReportFactory().createReport();
‚Äî —Ç–æ –≤ —Ç–µ—Å—Ç–∞—Ö —Å–∫–ª–∞–¥–Ω–æ –ø—ñ–¥—Å—Ç–∞–≤–∏—Ç–∏ –º–æ–∫ –∞–±–æ —Ç–µ—Å—Ç–æ–≤—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é.

üìå –ü–æ—Ä–∞–¥–∞: –ó–∞–º—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–±—Ä–∏–∫ —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–¥—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π DI (–≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π) –∞–±–æ –ø–µ—Ä–µ–¥–∞–≤–∞–π —Ñ–∞–±—Ä–∏–∫—É —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä.

üîª 6. Factory –≤–∏–≥–ª—è–¥–∞—î —è–∫ ‚Äú–ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Äù
–©–æ –Ω–µ —Ç–∞–∫: –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ —Å—Ö–æ–∂–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤, –º–æ–∂–Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–±—Ä–∏–∫—É –Ω–∞ –∑–≤–∞–ª–∏—â–µ –ª–æ–≥—ñ–∫–∏ ‚Äî –ø–æ—á–∏–Ω–∞—î—à –¥–æ–¥–∞–≤–∞—Ç–∏ if-else, –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é, —á–∏—Ç–∞—î—à –∑ —Ñ–∞–π–ª—É —ñ —Ç.–¥.

üìå –ü–æ—Ä–∞–¥–∞: –§–∞–±—Ä–∏–∫–∞ –º–∞—î —Ç—ñ–ª—å–∫–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏. –õ–æ–≥—ñ–∫—É –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è/–æ–±—Ä–æ–±–∫–∏ –≤–∞—Ä—Ç–æ –≤–∏–Ω–µ—Å—Ç–∏ –≤ –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Configurator, Builder, –∞–±–æ Service).

üîª 7. –í–∞–∂–∫–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –Ω–∞–±—ñ—Ä –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
–©–æ –Ω–µ —Ç–∞–∫: –Ø–∫—â–æ –ø—Ä–æ–¥—É–∫—Ç–∏ —ñ —Ñ–∞–±—Ä–∏–∫–∏ –∂–æ—Ä—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ñ –≤ –∫–æ–¥, –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç—É –±–µ–∑ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó —Ñ–∞–±—Ä–∏–∫–∏ –±—É–¥–µ —Å–∫–ª–∞–¥–Ω–æ.

üìå –ü–æ—Ä–∞–¥–∞: –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –≤ runtime:

Map<String, Supplier<Button>> registry = new HashMap<>();
registry.put("windows", WindowsButton::new);
registry.put("mac", MacOSButton::new);
üß© –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ Singleton ‚Äî —è–∫ –ø—Ä–æ—Å–∏–ª–∏
–ü—Ä–æ–±–ª–µ–º–∞	Singleton	Factory
–ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—å	–ú–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –æ–±‚Äô—î–∫—Ç—ñ–≤	–ú–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–π–≤—ñ –æ–±'—î–∫—Ç–∏ –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ
Reflection / Hack	–ú–æ–∂–µ –æ–±—ñ–π—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä	–ú–æ–∂–Ω–∞ –∑–ª–∞–º–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –≤–∏–±–æ—Ä—É —Ç–∏–ø—É
–£—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è	–ó–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏	–¢—Ä—É–¥–Ω–æ –ø—ñ–¥–º—ñ–Ω–∏—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—É —Ñ–∞–±—Ä–∏–∫—É
–ü–æ—Ä—É—à–µ–Ω–Ω—è SRP	–ú–∞—î —Å—Ç–∞–Ω + –ª–æ–≥—ñ–∫—É –¥–æ—Å—Ç—É–ø—É	–ú–∞—î –≤–∏–±—ñ—Ä + —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è + –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
–ü—Ä–æ–±–ª–µ–º–∏ –∑ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è–º	–û–¥–∏–Ω –∫–ª–∞—Å ‚Äî –±–∞–≥–∞—Ç–æ –æ–±–æ–≤‚Äô—è–∑–∫—ñ–≤	–ë–∞–≥–∞—Ç–æ –ø—ñ–¥–∫–ª–∞—Å—ñ–≤ —ñ —Ä–æ–∑–≥–∞–ª—É–∂–µ–Ω–Ω—è

‚úÖ –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ –∫—Ä–∞—â–µ:
–ü—Ä–æ—Å—Ç–∏–π –≤–∏–ø–∞–¥–æ–∫? ‚Äî Simple Factory (–æ–¥–∏–Ω –º–µ—Ç–æ–¥ –∑—ñ switch).

–°–∫–ª–∞–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞? ‚Äî Factory Method + Abstract Factory.

–ë–∞–≥–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤? ‚Äî Builder –∞–±–æ DTO.

–î–∏–Ω–∞–º—ñ–∫–∞/–ø–ª–∞–≥—ñ–Ω–∏? ‚Äî –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ñ–∞–±—Ä–∏–∫ —á–µ—Ä–µ–∑ Map.

