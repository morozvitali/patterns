üß† –©–æ —Ç–∞–∫–µ Memento?
Memento ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó.

–£—è–≤–∏, —â–æ —Ç–∏ –º–∞–ª—é—î—à —É Photoshop —ñ –Ω–∞—Ç–∏—Å–∫–∞—î—à Ctrl + Z ‚Äî —Ü–µ —ñ —î —ñ–¥–µ—è Memento!

üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ç–µ—Ä–Ω–∞
–ü–∞—Ç–µ—Ä–Ω —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:

–†–æ–ª—å	            –û–ø–∏—Å
Originator	        –û–±‚Äô—î–∫—Ç, —Å—Ç–∞–Ω —è–∫–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏
Memento	            –û–±'—î–∫—Ç, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω Originator (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è)
Caretaker	        –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è Memento, –Ω–µ —á–∏—Ç–∞—î –π–æ–≥–æ –≤–º—ñ—Å—Ç

üì¶ –ü—Ä–∏–∫–ª–∞–¥ Java-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

    // Originator
    class TextEditor {
    private String text;

    public void type(String newText) {
        text = newText;
    }

    public String getText() {
        return text;
    }

    public Memento save() {
        return new Memento(text);
    }

    public void restore(Memento memento) {
        this.text = memento.getState();
    }

    // Memento (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∫–ª–∞—Å)
    public static class Memento {
        private final String state;

        private Memento(String state) {
            this.state = state;
        }

        private String getState() {
            return state;
        }
    }
}

    // Caretaker
    class History {
    private List<TextEditor.Memento> history = new ArrayList<>();

    public void save(TextEditor.Memento m) {
        history.add(m);
    }

    public TextEditor.Memento get(int index) {
        return history.get(index);
    }
}
üß™ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

    public class Main {
    public static void main(String[] args) {
    TextEditor editor = new TextEditor();
    History history = new History();

        editor.type("–í–µ—Ä—Å—ñ—è 1");
        history.save(editor.save());

        editor.type("–í–µ—Ä—Å—ñ—è 2");
        history.save(editor.save());

        editor.type("–í–µ—Ä—Å—ñ—è 3");

        System.out.println("–ü–æ—Ç–æ—á–Ω–∏–π —Ç–µ–∫—Å—Ç: " + editor.getText()); // –í–µ—Ä—Å—ñ—è 3

        editor.restore(history.get(0));
        System.out.println("–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ: " + editor.getText()); // –í–µ—Ä—Å—ñ—è 1
    }
}
‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏
‚úî –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω —Å—Ç–∞–Ω—É
‚úî –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó
‚úî –î–æ–±—Ä–µ –ø—Ä–∞—Ü—é—î —É –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ Undo/Redo

‚ö† –ù–µ–¥–æ–ª—ñ–∫–∏
‚ùå –ú–æ–∂–µ —Å–ø–æ–∂–∏–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –ø–∞–º‚Äô—è—Ç—ñ, —è–∫—â–æ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –≤–µ–ª–∏–∫–∏–π
‚ùå Caretaker –ø–æ–≤–∏–Ω–µ–Ω –∫–µ—Ä—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–æ–º–∞ –≤–µ—Ä—Å—ñ—è–º–∏ ‚Äî –º–æ–∂–ª–∏–≤–∏–π —Ö–∞–æ—Å

üóÇ –ö–æ–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏?
–ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ undo/redo (—Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, —ñ–≥—Ä–∏)
–ö–æ–ª–∏ –æ–±'—î–∫—Ç –º–∞—î –≤–∞–∂–ª–∏–≤–∏–π —Å—Ç–∞–Ω, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏
–ö–æ–ª–∏ —ñ–Ω—à—ñ –ø–∞—Ç–µ—Ä–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤—Å—å–æ–≥–æ —Å—Ç–∞–Ω—É –≤ Originator) –ø–æ—Ä—É—à—É—é—Ç—å —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é

üîÑ –í–∞—Ä—ñ–∞—Ü—ñ—ó
–Ü–Ω–æ–¥—ñ Memento –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Originator (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∫–ª–∞—Å), —â–æ–± –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ —Å—Ç–∞–Ω—É.
–Ü–Ω–æ–¥—ñ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –æ–±–º–µ–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ Memento, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏.

üßµ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏ –ø–∞—Ç–µ—Ä–Ω–∞–º–∏:
–ü–∞—Ç–µ—Ä–Ω	            –û—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è
Command	            –Ü–Ω–∫–∞–ø—Å—É–ª—é—î –¥—ñ—é, –∞ –Ω–µ —Å—Ç–∞–Ω
State	            –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É
Memento	            –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω, –±–µ–∑ –ª–æ–≥—ñ–∫–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏

**–Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –∑—Ä–æ–±–∏–º–æ —Ä–∞–∑–æ–º –≤–∞—Ä—ñ–∞—Ü—ñ—é –∑ Undo/Redo, –∞–±–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –≥—Ä—É, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑ –≤—ñ–¥–∫–æ—Ç–æ–º –¥—ñ–π üïπÔ∏èüìã**

https://chatgpt.com/c/685be025-bce8-8009-9774-0508e5952e84